# PHP Template Project Technical Documentation

This README was automatically generated by PHPProjectInitializer.
If this paragraph is still present it probably means nobody's
bothered to write any project-specific documentation, yet.

Further documentation about the design patterns followed by
this project is available at https://github.com/EarthlingInteractive/ChangeItLater

## Folder structure

- ```composer.json``` - PHP package and dependency information, used by Composer.
- ```init-*.php``` - Scripts to initialize global state in PHP.
- ```lib/``` - PHP libraries defined by this project.
- ```vendor/``` - External PHP libraries, managed by Composer.
- ```config/``` - Deployment configuration.
- ```www/``` - Serves as the 'document root' for your project.
  Contains files to be served directly and a ```.htaccess``` and ```bootstrap.php```
  to handle paths that don't correspond to existing files.
- ```views/``` - 'view' (i.e. HTML) templates

## Database
### Create the database

```make create-database``` will attempt to create the database for you
based on configuration in ```config/dbc.json```.

If that fails (due to e.g. your system is not set up in a way for
which that script is designed) you can create the database yourself:

Set up a new postgres database by logging in as root
(```sudo -u postgres psql``` often does the trick)
and running:

``sql
CREATE DATABASE phptemplateprojectdatabase;
CREATE USER phptemplateprojectdatabaseuser WITH PASSWORD 'phptemplateprojectdatabasepassword';
GRANT ALL PRIVILEGES ON DATABASE phptemplateprojectdatabase TO phptemplateprojectdatabaseuser;
```

If you've changed the name of the database or user in
```config/dbc.json```, make the corresponding changes to the above
SQL.

### Initialize the database

Once a database exists and permissions are set up for our user, you
should be able to ```make rebuild-database``` empty the database and
rebuild it from the upgrade scripts.
